"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[718],{4718:function(e,n,t){t.r(n),t.d(n,{default:function(){return _}});var r=t(9439),a=t(7482),s=t(9877),i=t(2791),o=t(493),c=t(4165),u=t(5861),d=t(6934),l=t(4852),p=(0,d.ZP)(l.ZP)((function(e){return{boxShadow:e.theme.shadows[2],border:1}})),m=t(3400),f=t(3239),h=t(6259),x=t(7247),Z=t(9263),b=t(5206),j=t(3329);var w=function(e){var n=e.id,t=e.name,a=e.phone,s=(0,Z.zr)(),i=(0,r.Z)(s,2),o=i[0],d=i[1].isLoading,l=function(){var e=(0,u.Z)((0,c.Z)().mark((function e(n){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(n);case 2:if(!e.sent.error){e.next=6;break}return b.Am.error("Oops! Something went wrong"),e.abrupt("return");case 6:b.Am.info("Contact deleted");case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,j.jsx)(p,{secondaryAction:(0,j.jsx)(m.Z,{edge:"end","aria-label":"delete",onClick:function(){return l(n)},children:d?(0,j.jsx)(f.Z,{size:24}):(0,j.jsx)(x.Z,{})}),children:(0,j.jsx)(h.Z,{primary:t,secondary:a})})},v=t(5048),g=t(686);var C=function(e){var n=e.contacts,t=(0,v.v9)(g.B8);return(0,j.jsx)(o.Z,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:function(){var e=t.toLowerCase();return n.filter((function(n){return n.name.toLowerCase().includes(e)}))}().map((function(e){var n=e.id,t=e.name,r=e.number;return(0,j.jsx)(w,{id:n,name:t,phone:r},n)}))})},k=t(8087),y=t(5289),A=t(5661),S=t(9157),z=t(8666),P=t(4554),L=t(6151),N=(0,t(225).Z)("form")({display:"flex",flexDirection:"column",gap:"20px"});var O=function(e){var n=e.contacts,t=e.isOpen,a=e.onClose,s=(0,i.useState)(""),o=(0,r.Z)(s,2),d=o[0],l=o[1],p=(0,i.useState)(""),m=(0,r.Z)(p,2),f=m[0],h=m[1],x=(0,Z.F3)(),w=(0,r.Z)(x,2),v=w[0],g=w[1].isLoading,C=function(){l(""),h(""),a()},k=function(e){return n.find((function(n){return n.name===e}))},O=function(){var e=(0,u.Z)((0,c.Z)().mark((function e(n){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!k(d)){e.next=4;break}return b.Am.error("Contact ".concat(d," already exists")),e.abrupt("return");case 4:return e.next=6,v({number:f,name:d});case 6:if(!e.sent.error){e.next=10;break}return b.Am.error("Oops! Something went wrong"),e.abrupt("return");case 10:b.Am.info("New contact added"),a();case 12:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),_=function(e){var n=e.target,t=n.value;switch(n.name){case"name":l(t);break;case"number":h(t);break;default:return}},F=d&&f;return(0,j.jsxs)(y.Z,{open:t,onClose:C,fullWidth:!0,children:[(0,j.jsx)(A.Z,{children:"Add new contact"}),(0,j.jsx)(S.Z,{children:(0,j.jsxs)(N,{onSubmit:O,children:[(0,j.jsx)(z.Z,{label:"Name",variant:"standard",value:d,onChange:_,inputProps:{pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan"},type:"text",name:"name",required:!0}),(0,j.jsx)(z.Z,{label:"Number",variant:"standard",value:f,onChange:_,inputProps:{pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"number number must be digits and can contain spaces, dashes, parentheses and can start with +"},type:"tel",name:"number",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0}),(0,j.jsxs)(P.Z,{justifyContent:"right",display:"flex",gap:"20px",children:[(0,j.jsx)(L.Z,{disabled:!F,type:"submit",children:"Add"}),(0,j.jsx)(L.Z,{disabled:g,onClick:C,children:"Cancel"})]})]})})]})};function _(){var e=(0,i.useState)(!1),n=(0,r.Z)(e,2),t=n[0],o=n[1],c=(0,Z.wY)(),u=c.data,d=c.isFetching;return(0,j.jsx)("main",{children:(0,j.jsxs)("section",{children:[d&&(0,j.jsx)(a.Z,{}),u&&(0,j.jsx)(C,{contacts:u}),(0,j.jsx)(s.Z,{sx:{position:"sticky",bottom:20},"aria-label":"Add contact",color:"primary",onClick:function(){o(!0)},children:(0,j.jsx)(k.Z,{})}),(0,j.jsx)(O,{isOpen:t,onClose:function(){o(!1)},contacts:u})]})})}}}]);
//# sourceMappingURL=718.0d449846.chunk.js.map